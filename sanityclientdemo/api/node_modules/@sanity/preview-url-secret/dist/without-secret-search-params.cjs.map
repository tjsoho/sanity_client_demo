{"version":3,"file":"without-secret-search-params.cjs","sources":["../src/withoutSecretSearchParams.ts"],"sourcesContent":["import {\n  urlSearchParamPreviewPathname,\n  urlSearchParamPreviewPerspective,\n  urlSearchParamPreviewSecret,\n} from './constants'\n\n/** @alpha */\nexport function withoutSecretSearchParams(url: URL): URL {\n  const newUrl = new URL(url)\n  const {searchParams} = newUrl\n  searchParams.delete(urlSearchParamPreviewPathname)\n  searchParams.delete(urlSearchParamPreviewSecret)\n  searchParams.delete(urlSearchParamPreviewPerspective)\n  return newUrl\n}\n\n/** @alpha */\nexport function hasSecretSearchParams(url: URL): boolean {\n  return url.searchParams.has(urlSearchParamPreviewSecret)\n}\n\n/** @alpha */\nexport function setSecretSearchParams(\n  url: URL,\n  secret: string,\n  redirectTo: string,\n  perspective: string,\n): URL {\n  const newUrl = new URL(url)\n  const {searchParams} = newUrl\n  searchParams.set(urlSearchParamPreviewSecret, secret)\n  searchParams.set(urlSearchParamPreviewPathname, redirectTo)\n  searchParams.set(urlSearchParamPreviewPerspective, perspective)\n  return newUrl\n}\n"],"names":["urlSearchParamPreviewPathname","urlSearchParamPreviewSecret","urlSearchParamPreviewPerspective"],"mappings":";;;;;;AAOO,SAAS,0BAA0B,GAAe,EAAA;AACvD,EAAM,MAAA,MAAA,GAAS,IAAI,GAAA,CAAI,GAAG,CAAA,CAAA;AAC1B,EAAM,MAAA,EAAC,cAAgB,GAAA,MAAA,CAAA;AACvB,EAAA,YAAA,CAAa,OAAOA,uCAA6B,CAAA,CAAA;AACjD,EAAA,YAAA,CAAa,OAAOC,qCAA2B,CAAA,CAAA;AAC/C,EAAA,YAAA,CAAa,OAAOC,0CAAgC,CAAA,CAAA;AACpD,EAAO,OAAA,MAAA,CAAA;AACT,CAAA;AAGO,SAAS,sBAAsB,GAAmB,EAAA;AACvD,EAAO,OAAA,GAAA,CAAI,YAAa,CAAA,GAAA,CAAID,qCAA2B,CAAA,CAAA;AACzD,CAAA;AAGO,SAAS,qBACd,CAAA,GAAA,EACA,MACA,EAAA,UAAA,EACA,WACK,EAAA;AACL,EAAM,MAAA,MAAA,GAAS,IAAI,GAAA,CAAI,GAAG,CAAA,CAAA;AAC1B,EAAM,MAAA,EAAC,cAAgB,GAAA,MAAA,CAAA;AACvB,EAAa,YAAA,CAAA,GAAA,CAAIA,uCAA6B,MAAM,CAAA,CAAA;AACpD,EAAa,YAAA,CAAA,GAAA,CAAID,yCAA+B,UAAU,CAAA,CAAA;AAC1D,EAAa,YAAA,CAAA,GAAA,CAAIE,4CAAkC,WAAW,CAAA,CAAA;AAC9D,EAAO,OAAA,MAAA,CAAA;AACT;;;;;;"}