"use strict";
var jsxRuntime = require("react/jsx-runtime"), isEqual = require("fast-deep-equal"), react = require("react");
function _interopDefaultCompat(e) {
  return e && typeof e == "object" && "default" in e ? e : { default: e };
}
var isEqual__default = /* @__PURE__ */ _interopDefaultCompat(isEqual);
const Context = react.createContext(null);
function DisplayedDocumentBroadcasterProvider(props) {
  const { children, setDisplayedDocument, documentId } = props, context = react.useCallback(
    (next) => setDisplayedDocument((prev) => isEqual__default.default(prev, next) ? prev : next),
    [setDisplayedDocument]
  );
  return react.useEffect(() => {
    if (documentId)
      return;
    const timeout = setTimeout(() => setDisplayedDocument(null));
    return () => clearTimeout(timeout);
  }, [documentId, setDisplayedDocument]), /* @__PURE__ */ jsxRuntime.jsx(Context.Provider, { value: context, children });
}
function useDisplayedDocumentBroadcaster() {
  return react.useContext(Context);
}
exports.DisplayedDocumentBroadcasterProvider = DisplayedDocumentBroadcasterProvider;
exports.useDisplayedDocumentBroadcaster = useDisplayedDocumentBroadcaster;
//# sourceMappingURL=DisplayedDocumentBroadcaster.cjs.map
